<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="nav bar.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <title>Upload Your Event Proposal</title>

  <script src="darkmode.js"> 
  </script>
</head>

<body>

  <p id="btn"></p>

  <div class="blue">
    <marquee scrollamount="8" direction="right">
      <h3>Welcome To Department Of Computer Applications</h3>
    </marquee>
  </div>

  <header>
    <ul class="nav">
      <li class="nav1">
        <a href=https://www.invertisuniversity.ac.in target="_blank">
          <img
            src="https://lh3.googleusercontent.com/pw/AM-JKLUHOoOl_CcyCl6rTFdf9OQU_HGg_EKKwAJxsy0eAHLLVpwFDakKR3cGTZ0wKmMgl5mifxB0pA2_UJeg9agW-35rAf_ELoC3u7lEOeha5azTiGwzCCuAucFKHlYyEIzMMYPRcjXF8KeD4qsMXGX99E_3=w296-h83-no?authuser=0"
            class="img" name="1">
        </a>
      </li>

      <li class="nav1" style="padding-left: 20px;">
        <a class="nav2" href="index.html"> <i class="fa fa-home"></i> Home </a>
      </li>

      <li class="nav1">
        <a class="nav2" href="course.html" target="_blank"> <i class="fa fa-graduation-cap"></i> Courses</a>
      </li>

      <li class="nav1">
        <div class="event">
          <button class="eventbtn"><i class="fa fa-calendar"></i> Event </button>
          <div class="event-content">
            <a href="Upload Your Event Proposal.html"> <i class="fa fa-calendar-plus-o"></i> Upload Your
              Event Proposal</a>
            <a href="Current Events Approved.html" target="_blank"> <i class="fa fa-calendar-check-o"></i> Current
              Events Approved</a>
            <a href="Event History.html" target="_blank"> <i class="fa fa-calendar"></i> Event History </a>
            <a href="Admin Login.html" target="_blank"> <i class="fa fa-user"></i> Admin Login </a>
            <a href="Details.html" target="_blank"> <i class="fa fa-bars"></i> More Details </a>
          </div>
        </div>
      </li>

      <li class="nav1" class="aKp a  Ke-aLf" style="user-select: none;">
        <!-- <div class="aKp aKe-aLf" style="user-select: none;"> -->
        <a class="nav2" href="About Developers.html" target="_blank"> <i class="fa fa-user"></i> About Developers</a>
      </li>
      <li class="nav1">
        <div class="more">
          <button class="morebtn">More
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="more-content">
            <a href="Contact Us.html" target="_blank"> <i class="fa fa-address-book"></i> Contact Us</a>
            <a href="faculty.html" target="_blank"> <i class="fa fa-group"></i> Faculty</a>

            <div class="mode"> <i class="fa fa-moon-o" style="font-size:20px"></i>
              Dark mode:


              <span class="change">OFF</span>
            </div>
          </div>
        </div>
      </li>
    </ul>
    <script>
      $(".change").on("click", function () {
        if ($("body").hasClass("dark")) {
          $("body").removeClass("dark");
          $(".change").text("OFF");
        } else {
          $("body").addClass("dark");
          $(".change").text("ON");
        }
      });
    </script>
  </header>
  <br>
  <br>
  <br>
  <br>
  <main>
    <div>
      <center>
        <h2> Upload your Event</h2>
        <form id=eventDetails>
          <label><b>Student Id</b></label><br>
          <input type="text" placeholder="Enter Student Id" id="stdId" required><br>
          <label><b>Student Name</b></label><br>
          <input type="text" placeholder="Enter your name" id="stdName" required><br>
          <label><b>Course</b></label><br>
          <input type="text" placeholder="Course" id="stdCourse" required><br>
          <label><b>Semester</b></label><br>
          <input type="number" placeholder="Enter semester" id="stdSem" required><br>
          <label><b>Contact No.</b></label><br>
          <input type="number" placeholder="Enter contact no." id="stdCon" required><br>
          <label><b>E-mail</b></label><br>
          <input type="email" placeholder="Enter e-mail" id="stdEmail" required><br>
          <label><b>Name of event</b></label><br>
          <input type="text" placeholder="Enter event name" id="eventName" required><br>
          <label><b>Duration of event(in days)</b></label><br>
          <input type="number" placeholder="Enter event duration" id="eventDuration" required><br>
          <label><b>Date of event</b></label><br>
          <input type="date" placeholder="Enter event date" id="eventDate" required><br>
          <label><b>Conveyner's name</b></label><br>
          <input type="text" placeholder="Enter conveyner's name" id="eventConv" required><br>
          <label><b>Event description</b></label><br>
          <input type="text" placeholder="Enter event description" id="eventDesc" required><br>

          <input type="submit" value="Submit">
        </form>
        <div id="result"></div>
        <script>
          var form = document.querySelector("#eventDetails")
          eventDetails.onsubmit = async (e) => {
            e.preventDefault();
            data = {
              std_id: form.querySelector('input[id="stdId"]').value,
              name: form.querySelector('input[id="stdName"]').value,
              course: form.querySelector('input[id="stdCourse"]').value,
              sem: form.querySelector('input[id="stdSem"]').value,
              contact_no: form.querySelector('input[id="stdCon"]').value,
              email: form.querySelector('input[id="stdEmail"]').value,
              evt_name: form.querySelector('input[id="eventName"]').value,
              duration: form.querySelector('input[id="eventDuration"]').value,
              date: form.querySelector('input[id="eventDate"]').value,
              conv_name: form.querySelector('input[id="eventConv"]').value,
              descr: form.querySelector('input[id="eventDesc"]').value
            }
            let response = await fetch('http://127.0.0.1:3000/add', {
              method: 'POST', // or 'PUT'
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(data),
            })
            let text = await response.text(); // read response body as text
            document.querySelector("#result").innerHTML = text
          }
        </script>
      </center>
    </div>
  </main>
  <footer>
    &copy;
    2021
    Department of Computer Applications Invertis University
    <button id="right"><a href="#btn"><b></b>&and;</b></a></button>
  </footer>
</body>

</html>